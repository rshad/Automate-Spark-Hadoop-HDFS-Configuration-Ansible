# first of all, we create hadoop user, so this user will be the one used to configure Hadoopa and HDFS
#- name: creating hadoop user
#  user:
#    name: hadoop
#    password: "{{ hadoop }}"
#    state: present
#    shell: /bin/bash    
#    system: no
#    createhome: yes
#    home: /home/hadoop


# Note:  We do not need to donwload the java package from internet, we have our own already downloaded.
- name: Extracting Hadoop package in masters host, supposing there is only one
  hosts: masters

  unarchive:
    src: "{{ hadoop_package_file }}"
    dest: "{{ download_folder }}"


- name: Detecting if the unpacked file exists ...
  host: masters

  stat: path=hadoop_folder_path_name_old
  register: hadoop_default_path

- name: Change the name of the 
  command: mv /path/to/foo /path/to/bar
  when: foo_stat.stat.exists
      
